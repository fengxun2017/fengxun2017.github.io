---
title: Renesas-RH850  CPU System - CPU - Register Set
date: 2024/12/11
categories: 
- Renesas
---

<center>

Renesas学习笔记
CPU System : CPU - Register Set

</center>

<!-- more -->

***
本章介绍此CPU上的程序寄存器和系统寄存器。

##### 1  Program Registers
程序寄存器包括通用寄存器（r0到r31）和程序计数器（PC）。r0始终保持为0。复位后，通用寄存器r1到r31的值未定义。复位后PC的值为RBASE寄存器的值。
| 名称         | 功能                                 | 描述                                       |
| ------------ | ------------------------------------ | ----------------------------------------- |
| r0           | 零寄存器                             | 始终保持为0                               |
| r1           | 汇编程序保留寄存器                   | 用作生成地址的工作寄存器                  |
| r2           | 地址和数据变量寄存器                 | 当使用的实时操作系统不使用此寄存器时使用      |
| r3           | 堆栈指针（SP）                       | 用于在调用函数时生成堆栈帧                |
| r4           | 全局指针（GP）                       |  用于访问数据区域中的全局变量       |
| r5           | 文本指针（TP）                        | 用作指示文本区域开始的寄存器（放置程序代码的区域） |
| r6到r29      |                                      | 地址和数据变量寄存器                       |
| r30          | 元素指针（EP）                       | 用作访问内存时生成地址的基指针                |
| r31          | 连接指针（LP）                       | 编译器调用函数时使用    |
| PC           | 程序计数器                           | 在程序执行期间保持指令地址                |
| r30          | 元素指针（EP）                       | 用作访问内存时生成地址的基指针            |
| r31          | 链接指针（LP）                       | 编译器调用函数时使用                      |
| PC          |                  | 在程序执行期间保留指令地址                      |


###### 1.1 通用寄存器
提供了总共32个通用寄存器（r0到r31）。所有这些寄存器都可以用于数据变量或地址变量。 在软件开发环境中，假定通用寄存器r0到r5、r30和r31用于特殊用途，因此在使用它们时需要注意以下几点：

- r0、r3和r30 这些寄存器由指令隐式使用。 r0是始终保持为0的寄存器。它用于使用0进行操作，以0为基地址的寻址等。 r3由PREPARE、DISPOSE、PUSHSP和POPSP指令隐式使用。 r30在SLD指令或SST指令访问内存时用作基指针。

- r1、r4、r5和r31 这些寄存器由汇编器和C编译器隐式使用。 在使用这些寄存器时，必须首先保存寄存器内容，以便在使用后不丢失并且可以恢复。

- r2 这个寄存器在某些情况下由实时操作系统使用。如果正在使用的实时操作系统不使用r2，则r2可以用作地址变量或数据变量的寄存器。

###### 1.2 程序计数器（PC）
PC 保持正在执行的指令的地址。
PC的第0位固定为0，并且禁用分支（branching）到奇数地址。

##### 2 Basic System Registers

基本系统寄存器用于控制CPU状态并保存异常信息。基本系统寄存器通过使用LDSR和STSR指令并指定系统寄存器号（由寄存器编号和selection ID组成）进行读写。

| 寄存器号 (regID, selID) | 符号    | 功能                                      | 访问权限 |
| ----------------------- | ------- | ----------------------------------------- | -------- |
| SR0, 0                  | EIPC    | 确认EI级异常时的状态保存寄存器            | SV       |
| SR1, 0                  | EIPSW   | 确认EI级异常时的状态保存寄存器            | SV       |
| SR2, 0                  | FEPC    | 确认FE级异常时的状态保存寄存器            | SV       |
| SR3, 0                  | FEPSW   | 确认FE级异常时的状态保存寄存器            | SV       |
| SR5, 0                  | PSW     | 程序状态字                                | *1       |
| SR6, 0                  | FPSR    | 参见第3.2.3.4节，FPU功能寄存器             | CU0和SV  |
| SR7, 0                  | FPEPC   | 参见第3.2.3.4节，FPU功能寄存器             | CU0和SV  |
| SR8, 0                  | FPST    | 参见第3.2.3.4节，FPU功能寄存器             | CU0      |
| SR9, 0                  | FPCC    | 参见第3.2.3.4节，FPU功能寄存器             | CU0      |
| SR10, 0                 | FPCFG   | 参见第3.2.3.4节，FPU功能寄存器             | CU0      |
| SR13, 0                 | EIIC    | EI级异常原因                             | SV       |
| SR14, 0                 | FEIC    | FE级异常原因                             | SV       |
| SR16, 0                 | CTPC    | CALLT执行状态保存寄存器                   | UM       |
| SR17, 0                 | CTPSW   | CALLT执行状态保存寄存器                   | UM       |
| SR20, 0                 | CTBP    | CALLT基指针                               | UM       |
| SR21, 0                 | SNZCFG  | SNOOZE控制寄存器                          | SV       |
| SR28, 0                 | EIWR    | EI级异常工作寄存器                        | SV       |
| SR29, 0                 | FEWR    | FE级异常工作寄存器                        | SV       |
| SR0, 1                  | SPID    | 系统保护标识符                            | SV       |
| SR1, 1                  | SPIDLIST| 可在SPID中指定的系统保护标识符列表        | SV       |
| SR2, 1                  | RBASE   | 复位向量基地址                            | SV       |
| SR3, 1                  | EBASE   | 异常处理程序向量地址                      | SV       |
| SR4, 1                  | INTBP   | 中断处理程序“地址”表的基地址              | SV       |
| SR5, 1                  | MCTL    | CPU控制                                   | SV       |
| SR6, 1                  | PID     | 处理器ID                                 | SV       |
| SR8, 1                  | SVLOCK  | 监督锁定                                  | SV       |
| SR11, 1                 | SCCFG   | SYSCALL操作设置                           | SV       |
| SR12, 1                 | SCBP    | SYSCALL基指针                             | SV       |
| SR0, 2                  | PEID    | 处理器元件标识符                         | UM       |
| SR1, 2                  | BMID    | 总线主控标识符                           | UM       |
| SR6, 2                  | MEA     | 内存错误地址                             | SV       |
| SR8, 2                  | MEI     | 内存错误信息                             | SV       |
| SR15, 2                 | RBCR0   | 寄存器组控制0                            | SV       |
| SR16, 2                 | RBCR1   | 寄存器组控制1                            | SV       |
| SR17, 2                 | RBNR    | 寄存器组编号                             | SV       |
| SR18, 2                 | RBIP    | 寄存器组初始指针                         | SV       |


*1：访问权限因位的不同而有所不同。有关详细信息，请参见第3.2.4.1(3)节，“异常类型”。

###### 2.1 EIPC — 确认EI级异常时的状态保存寄存器
当确认EI级异常时，发生异常时正在执行的指令地址或下一条指令地址会保存到EIPC寄存器中（参见第3.2.4.1(3)节，异常的类型）。

由于只有一对EI级异常状态保存寄存器，在处理多个异常时，必须通过程序保存这些寄存器的内容。

请确保向EIPC寄存器设置一个偶数地址，不得指定奇数地址。

| 位位置   | 位名称        | 功能  | 读/写 (R/W) | 复位后的值   |
|----------|--------------|-------|-------------|--------------|
| 31到1    | EIPC31到EIPC1 | 这些位表示在确认EI级异常时保存的PC。     | R/W         | 未定义       |
| 0        | EIPC0         | 该位表示在确认EI级异常时保存的PC。 始终将该位设置为0，即使设置为1，在执行EIRET指令时传输到PC的值仍然是0。 | R/W         | 未定义       |

###### 2.2 EIPSW — 确认EI级异常时的状态保存寄存器
当确认EI级异常时，当前的PSW设置将被保存到EIPSW寄存器中。 由于只有一对EI级异常状态保存寄存器，在处理多个异常时，必须通过程序保存这些寄存器的内容。

| 位位置 | 31 | --- | 30 | --- | 29至26 | --- | 25至20 | --- | 19 | --- | 18至16 | --- | 15 | --- | 14至8 | --- | 7  | --- | 6  | --- | 5  | --- | 4  | --- | 3  | --- | 2  | --- | 1  | --- | 0  |
| ------ | -- | --- | -- | --- | ------ | --- | ------ | --- | -- | --- | ------ | --- | -- | --- | ----- | --- | -- | --- | -- | --- | -- | --- | -- | --- | -- | --- | -- | --- | -- | --- | -- |
| 位名称 | -  | --- | UM | --- | -      | --- | EIMASK | --- | -  | --- | CU2至CU0 | --- | EBV | --- | -    | --- | NP | --- | EP | --- | ID | --- | SAT | --- | CY | --- | OV | --- | S  | --- | Z  |

| 位 | 位名称    | 描述                                                         | R/W  | 复位后的值 |
| -- | -------- | ------------------------------------------------------------ | ---- | ---------- |
| 31 | —        | (保留以供将来扩展。请确保设置为0)                            | R    | 0          |
| 30 | UM       | 当确认EI级异常时，此位存储PSW.UM位设置。                     | R/W  | 0          |
| 29至26 | —   | (保留以供将来扩展。请确保设置为0)                            | R    | 0          |
| 25至20 | EIMASK | 当确认EI级异常时，此位存储PSW.EIMASK位设置。*1             | R/W  | 0          |
| 19 | —        | (保留以供将来扩展。请确保设置为0)                            | R    | 0          |
| 18至16 | CU2至CU0 | 当确认EI级异常时，这些位存储PSW.CU2-0字段设置。*2       | R/W  | 0          |
| 15 | EBV      | 当确认EI级异常时，此位存储PSW.EBV位设置。                     | R/W  | 0          |
| 14至8 | —     | (保留以供将来扩展。请确保设置为0)                            | R    | 0          |
| 7  | NP       | 当确认EI级异常时，此位存储PSW. NP位设置。                     | R/W  | 0          |
| 6  | EP       | 当确认EI级异常时，此位存储PSW.EP位设置。                     | R/W  | 0          |
| 5  | ID       | 当确认EI级异常时，此位存储PSW. ID位设置。                     | R/W  | 1          |
| 4  | SAT      | 当确认EI级异常时，此位存储PSW.SAT位设置。                    | R/W  | 0          |
| 3  | CY       | 当确认EI级异常时，此位存储PSW.CY位设置。                     | R/W  | 0          |
| 2  | OV       | 当确认EI级异常时，此位存储PSW.OV位设置。                     | R/W  | 0          |
| 1  | S        | 当确认EI级异常时，此位存储PSW.S位设置。                      | R/W  | 0          |
| 0  | Z        | 当确认EI级异常时，此位存储PSW.Z位设置。                      | R/W  | 0          |


注意：
- *1: 只有当INTCFG.EPL设置为1时，该字段才可以设置为非零值。如果INTCFG.EPL清零，该字段的值也变为0。请注意，如果在该字段值为非零时清零INTCFG.EPL，该字段的值将变为0。
- *2: CU2保留用于未来兼容该CPU的CPU。在该CPU中，它始终设置为0。


###### 2.3 FEPC — 确认FE级异常时的状态保存寄存器
当确认FE级异常时，发生FE级异常时正在执行的指令或下一条指令的地址会被保存到FEPC寄存器（参见第3.2.4.1(3)节，异常类型）。由于只有一对FE级异常状态保存寄存器，因此在处理多个异常时，必须由程序保存这些寄存器的内容。

务必将偶数地址设置到FEPC寄存器。不得指定奇数地址。
| 位位置  | 位名称 | 功能  | 读/写 | 复位后的值 |
| ------- | ------ | ----- | ---- | ---------- |
| 31至1   | FEPC31至1 | 这些位指示确认FE级异常时保存的PC。 | R/W  | *1 |
| 0       | FEPC0  | 此位指示确认FE级异常时保存的PC。始终将此位设置为0。即使将其设置为1，在执行FERET指令时传输到PC的值也是0。 | R/W  | *1 |

注 *1：当复位发生时，在复位发生之前完成执行的指令中，最后执行的指令的程序计数器值被保存。如果在复位发生之前没有完成执行的指令，则复位后的值未定义。没有信息表明复位后的值是执行完成的指令的程序计数器值还是未定义的值。

###### 2.4 FEPSW — 确认FE级异常时的状态保存寄存器
当确认FE级异常时，当前的PSW设置会被保存到FEPSW寄存器。由于只有一对FE级异常状态保存寄存器，因此在处理多个异常时，必须由程序保存这些寄存器的内容。


###### 2.5 PSW — 程序状态字
PSW（程序状态字）是一组标志，用于指示程序状态（指令执行结果）和CPU的操作状态（标志是PSW中的位，由条件指令（Bcond、CMOV等）引用）。

注意事项:
当使用LDSR指令更改此寄存器的内容时，更改后的内容从后续指令开始生效。有关详细信息，请参见第3.2.7.3节，系统寄存器更新后的危害管理。

PSW寄存器的访问权限因位而异。所有位都可以读取，但某些位只能在特定条件下写入。有关每个位的访问权限，如下标所示：
| 位  | 名称|读取时的访问权限 | 写入时的访问权限 |
| --- | ---|------------- | --------------- |
| 30  | UM |     UM         | SV*1            |
| 25至20 | EIMASK |  UM     | SV*1            |
| 18至16 | CU2至CU0|  UM    | SV*1            |
| 15  | EBV         |  UM   | SV*1            |
| 7   | NP           | UM   | SV*1            |
| 6   | EP           | UM   | SV*1            |
| 5   | ID           | UM   | SV*1            |
| 4   | SAT          | UM   | UM              |
| 3   | CY           | UM   | UM              |
| 2   | OV           | UM   | UM              |
| 1   | S            | UM   | UM              |
| 0   | Z            | UM   | UM              |

注 *1：整个PSW寄存器的访问权限是UM，因此即使在PSW.UM为1时使用LDSR指令写入寄存器，也不会发生PIE异常。在这种情况下，写入操作被忽略。


**PSW寄存器内容：**
| 位位置 | 位名称    | 描述                                                                                                                                       | 读/写 | 复位后的值 |
| ------ | --------- | ------------------------------------------------------------------------------------------------------------------------------------------ | ---- | ---------- |
| 31     | —         | （保留以供将来扩展。请确保设置为0。）                                                                                                       | R    | 0          |
| 30     | UM        | 此位指示CPU处于用户模式（UM模式）。                                                                                                       | R/W  | 0          |
|        |           | 0：监督模式                                                                                                                                |      |            |
|        |           | 1：用户模式                                                                                                                                |      |            |
| 29至26 | —         | （保留以供将来扩展。请确保设置为0。）                                                                                                       | R    | 0          |
| 25至20 | EIMASK    | 此字段指示启用和禁用中断（EIINTn）确认的中断优先级边界。对于优先级高于此字段设置值的中断（EIINTn），启用确认。对于优先级低于或等于此字段设置值的中断（EIINTn），禁用确认。 | R/W  | 0          |
|        |           | 0：所有优先级不可接受                                                                                                                      |      |            |
|        |           | 1：可接受优先级为0                                                                                                                         |      |            |
|        |           | 2：可接受优先级为0至1                                                                                                                      |      |            |
|        |           | ...                                                                                                                                       |      |            |
|        |           | 62：可接受优先级为0至61                                                                                                                    |      |            |
|        |           | 63：可接受优先级为0至62                                                                                                                    |      |            |
|        |           | 只有在INTCFG.EPL设置为1时，中断确认控制才会按此字段的值进行。如果INTCFG.EPL清除为0，则不会按此字段的值进行中断确认控制*1。                 |      |            |
|        |           | 如果INTCFG.EPL设置为1且确认中断（EIINTn），则中断优先级将作为PSW更改的一部分保存在此字段中，以确认中断（EIINTn）。指定优先级为63的中断（EIINTn）始终被禁用。 |      |            |
|        |           | 但是，由于HALT或SNOOZE引起的CPU停机状态也会被优先级为63的中断（EIINTn）释放。                                                              |      |            |
| 19     | —         | （保留以供将来扩展。请确保设置为0。）                                                                                                       | R    | 0          |
| 18至16 | CU2至CU0  | 这些位指示协处理器使用权限。当对应于协处理器的位为0时，如果执行协处理器指令或访问协处理器资源（系统寄存器），则会发生协处理器不可用异常。   | R/W  | 000        |
|        |           | 位18（CU2）：固定为0*2。                                                                                                                    |      |            |
|        |           | 位17（CU1）：FXU                                                                                                                            |      |            |
|        |           | 位16（CU0）：FPU                                                                                                                            |      |            |
|        |           | 在没有相应协处理器的设备中，CU2至CU0固定为0。                                                                                               |      |            |
| 15     | EBV       | 此位指示复位向量和异常向量操作。参见第3.2.3.2(16)节，RBASE — 复位向量基地址和第3.2.3.2(17)节，EBASE — 异常处理程序向量地址。                  | R/W  | 0          |
| 14至8  | —         | （保留以供将来扩展。请确保设置为0。）                                                                                                       | R    | 0          |
| 7      | NP        | 此位禁用FE级异常的确认。当确认FE级异常时，此位设置为1以禁用EI级和FE级异常的确认。有关NP位禁用确认的异常，请参见表3.102，异常原因列表。        | R/W  | 0          |
|        |           | 0：启用FE级异常的确认。                                                                                                                     |      |            |
|        |           | 1：禁用FE级异常的确认。                                                                                                                     |      |            |
| 6      | EP        | 此位指示正在服务除中断以外的异常。当发生相应异常时，它被设置为1。即使设置为1，此位也不影响确认异常请求。                                     | R/W  | 0          |
|        |           | 0：没有正在服务的中断以外的异常。                                                                                                           |      |            |
|        |           | 1：正在服务除中断以外的异常。                                                                                                               |      |            |
| 5      | ID        | 此位禁用EI级异常的确认。当确认EI级或FE级异常时，此位设置为1以禁用EI级异常的确认。有关ID位禁用确认的异常，请参见表3.102，异常原因列表。此位还用于在服务普通程序或中断时禁用EI级异常的确认，作为关键区。在执行DI指令时设置为1，执行EI指令时清除为0。通过EI或ID指令更改ID位将在下一条指令生效。 | R/W  | 1          |
|        |           | 0：启用EI级异常的确认。                                                                                                                     |      |            |
|        |           | 1：禁用EI级异常的确认。                                                                                                                     |      |            |
| 4      | SAT*3     | 此位指示饱和算术运算指令导致溢出并对结果应用饱和处理。这是一个累积标志，即一旦发生饱和，它被设置为1，并且不会被后续没有饱和结果的指令清除为0。此位由LDSR指令清除。请注意，执行算术运算指令既不会设置也不会清除此标志。 | R/W  | 0          |
|        |           | 0：结果没有饱和                                                                                                                            |      |            |
|        |           | 1：结果饱和。                                                                                                                              |      |            |
| 3      | CY        | 此位指示操作结果是否发生了进位或借位。                                                                                                       | R/W  | 0          |
|        |           | 0：未发生进位和借位。                                                                                                                       |      |            |
|        |           | 1：发生了进位或借位。                                                                                                                       |      |            |
| 2      | OV*3      | 此位指示操作期间是否发生了溢出。                                                                                                             | R/W  | 0          |
|        |           | 0：未发生溢出。                                                                                                                             |      |            |
|        |           | 1：发生了溢出。                                                                                                                             |      |            |
| 1      | S*3       | 此位指示操作结果是否为负数。                                                                                                                 | R/W  | 0          |
|        |           | 0：操作结果为正或0。                                                                                                                         |      |            |
|        |           | 1：操作结果为负。                                                                                                                           |      |            |
| 0      | Z         | 此位指示操作结果是否为0。                                                                                                                   | R/W  | 0          |
|        |           | 0：操作结果不为0。                                                                                                                           |      |            |
|        |           | 1：操作结果为0。                                                                                                                             |      |            |


备注：
- *1：只有当INTCFG.EPL = 1时，该字段中才可以设置非0值。如果INTCFG.EPL = 0，该字段的值变为0。请注意，如果当该字段的值为非0时INTCFG.EPL被清除为0，该字段的值变为0。
- *2：协处理器使用权限CU2保留用于将来与此CPU兼容的CPU。

- *3：饱和处理根据OV和S标志的内容应用于操作结果。只有在饱和算术操作中OV标志设置为1时，SAT标志才会设置为1。


###### 2.6 EIIC - EI Level Exception Cause
EIIC（EI级异常原因）寄存器用于保存发生任何EI级异常时的异常原因。保存在该寄存器中的值是对应特定异常原因的异常代码（参见表3.102，异常原因列表）。

| 位位置 | 位名称 | 功能                  |           读/写                                       | 复位后的值 |
| ------ | ------ | -------------------------------- | ---------------------------------------------------- | ----- |
| 31至0  | EIIC31至EIIC0 | 当发生EI级异常时，这些位存储异常原因代码。EIIC15-0字段存储表3.102中显示的异常原因代码。EIIC31-16字段存储为每个异常单独定义的详细异常原因代码。如果没有特别的定义，这些位将设置为0。 | R/W   |0|

###### 2.7 FEIC — FE Level Exception Cause
FEIC（FE级异常原因）寄存器用于保存发生任何FE级异常时的异常原因。保存在该寄存器中的值是对应特定异常原因的异常代码（参见表3.102，异常原因列表）。


| 位位置 | 位名称 | 功能                   |                             读/写                     |  复位后的值|
| ------ | ------ | -------------------------------- | ---------------------------------------------------- | ----- |
| 31至0  | FEIC31至FEIC0 | 当发生FE级异常时，这些位存储异常原因代码。FEIC15-0字段存储表3.102中显示的异常原因代码。FEIC31-16字段存储为每个异常单独定义的详细异常原因代码。如果没有特别的定义，这些位将设置为0。 | R/W   |0|


###### 2.8 CTPC — 执行 CALLT 时的状态保存寄存器
当执行 CALLT 指令时，CALLT 指令之后的下一条指令的地址会被保存到 CTPC 寄存器中。

确保将偶数地址设置到 CTPC 寄存器。不得指定奇数地址。


| 位位置 | 位名称      | 功能                               |              读/写                                                |  复位后的值  |
| ------ | ----------- | --------------------------------------------- | -----------------------------------------------------------------  | ----------- |
| 31至1  | CTPC31至CTPC1 | 这些位表示 CALLT 指令之后的指令的 PC。          | R/W   | 未定义     |
| 0      | CTPC0       | 此位表示 CALLT 指令之后的指令的 PC。始终将此位设置为0。即使将其设置为1，在执行 CTRET 指令时传输到 PC 的值也是0。 | R/W   | 未定义     |

###### 2.9 CTPSW — 执行 CALLT 时的状态保存寄存器
当执行 CALLT 指令时，部分 PSW（程序状态字）的设置会被保存到 CTPSW 寄存器中。


| 位位置 | 位名称 | 功能                        |  读/写 | 复位后的值  |
| ------ | ------ | ----------------------------------- | ----------------------------------------------------------------- | --------------- |
| 31至5  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0         |
| 4      | SAT    | 此位存储执行 CALLT 指令时的 PSW. SAT 位设置。         | R/W   | 0         |
| 3      | CY     | 此位存储执行 CALLT 指令时的 PSW. CY 位设置。          | R/W   | 0         |
| 2      | OV     | 此位存储执行 CALLT 指令时的 PSW. OV 位设置。          | R/W   | 0         |
| 1      | S      | 此位存储执行 CALLT 指令时的 PSW. S 位设置。           | R/W   | 0         |
| 0      | Z      | 此位存储执行 CALLT 指令时的 PSW. Z 位设置。           | R/W   | 0         |


###### 2.10 CTBP — CALLT 基指针
CTBP 寄存器用于指定 CALLT 指令的表地址并生成目标地址。

确保将 CTBP 寄存器设置为半字地址。

| 位位置 | 位名称       |  功能                                      | 读/写 | 复位后的值  |
| ------ | ------------ | ----------------------------------------- | ----------------------------------------- | --------------- |
| 31至1  | CTBP31至CTBP1 | 这些位表示 CALLT 指令的基指针地址。这些位表示 CALLT 指令使用的表的起始地址。 | R/W   | 0         |
| 0      | CTBP0        | 此位表示 CALLT 指令的基指针地址。始终将此位设置为0。 | R     | 0         


###### 2.11 SNZCFG — SNOOZE 配置
SNZCFG 寄存器用于配置 SNOOZE 指令的操作。

| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值  |
| ------ | ------ | ----------------- | ---- | ----------- |
| 31至8  | —      | （保留以供将来扩展。请确保设置为0。） | R    | 0         |
| 7至0   | SNZCNT | 这些位指定由 SNOOZE 指令暂时停止执行的时钟周期数。 | R/W  | 20H       |

###### 2.12 EIWR — EI 级异常工作寄存器
当发生EI级别异常时，EIWR寄存器用作工作寄存器。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值  |
| ------ | ------ | ---------------- | ---- | ------- |
| 31至0  | EIWR31至EIWR0 | 这些位构成一个工作寄存器，可以在处理 EI 级异常时用于任何用途。使用该寄存器存储通用寄存器的值等。 | R/W  | 未定义     |

###### 2.13 FEWR — FE 级异常工作寄存器
FEWR寄存器在发生FE级异常时用作工作寄存器


| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值  |
| ------ | ------ | ---------------- | ---- | --------------- |
| 31至0  | FEWR31至FEWR0 | 这些位构成一个工作寄存器，可以在处理 FE 级异常时用于任何用途。使用该寄存器存储通用寄存器的值等。 | R/W  | 未定义     |


###### 2.14 SPID — 系统保护标识符
SPID 寄存器保存 CPU 的系统保护标识符。

| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值  |
| ------- | ------ | ---------------- | ---- | -------------- |
| 31至5  | —      | （保留以供将来扩展。请确保设置为0。） | R    | 0         |
| 4至0   | SPID   | 这些位表示系统保护标识符。系统保护标识符是一个可变ID，用于在由包括此CPU在内的两个或多个总线主控器组成的产品中进行访问保护。在此CPU中，SPID用于检查MPU的区域匹配，使产品定义的系统规范能够在MPU的保护功能中得到反映。如果尝试设置非法的系统保护标识符，SPID寄存器不会更新并保持原始值。有关其用途和值的约束，请参见第3.9.7节，G4MH寄存器的初始值产品信息。 | R/W  | *1    |

注 *1：请参见第3.9.7节，G4MH寄存器的初始值信息。

###### 2.15 SPIDLIST — 合法系统保护标识符列表
SPIDLIST 寄存器包含可以设置到 SPID 寄存器的系统保护标识符列表。

对应于可设置系统保护标识符的位被设置为 1。对应于非法系统保护标识符的位被清除为 0。这些值是在 CPU 外部作为系统规范设置的，不能被此 CPU 修改。

| 位位置 | 位名称 | SPIDLIST 寄存器内容 | 功能 | 读/写 | 复位后的值  |
| ------ | ------ | ------------------- | ---- | ----- | ----------- |
| 31     | SL31   | 此位表示 31 是否可以设置为系统保护标识符。 | R    | *1        |
| 30     | SL30   | 此位表示 30 是否可以设置为系统保护标识符。 | R    | *1        |
| 29     | SL29   | 此位表示 29 是否可以设置为系统保护标识符。 | R    | *1        |
| 28     | SL28   | 此位表示 28 是否可以设置为系统保护标识符。 | R    | *1        |
| 27     | SL27   | 此位表示 27 是否可以设置为系统保护标识符。 | R    | *1        |
| 26     | SL26   | 此位表示 26 是否可以设置为系统保护标识符。 | R    | *1        |
| 25     | SL25   | 此位表示 25 是否可以设置为系统保护标识符。 | R    | *1        |
| 24     | SL24   | 此位表示 24 是否可以设置为系统保护标识符。 | R    | *1        |
| 23     | SL23   | 此位表示 23 是否可以设置为系统保护标识符。 | R    | *1        |
| 22     | SL22   | 此位表示 22 是否可以设置为系统保护标识符。 | R    | *1        |
| 21     | SL21   | 此位表示 21 是否可以设置为系统保护标识符。 | R    | *1        |
| 20     | SL20   | 此位表示 20 是否可以设置为系统保护标识符。 | R    | *1        |
| 19     | SL19   | 此位表示 19 是否可以设置为系统保护标识符。 | R    | *1        |
| 18     | SL18   | 此位表示 18 是否可以设置为系统保护标识符。 | R    | *1        |
| 17     | SL17   | 此位表示 17 是否可以设置为系统保护标识符。 | R    | *1        |
| 16     | SL16   | 此位表示 16 是否可以设置为系统保护标识符。 | R    | *1        |
| 15     | SL15   | 此位表示 15 是否可以设置为系统保护标识符。 | R    | *1        |
| 14     | SL14   | 此位表示 14 是否可以设置为系统保护标识符。 | R    | *1        |
| 13     | SL13   | 此位表示 13 是否可以设置为系统保护标识符。 | R    | *1        |
| 12     | SL12   | 此位表示 12 是否可以设置为系统保护标识符。 | R    | *1        |
| 11     | SL11   | 此位表示 11 是否可以设置为系统保护标识符。 | R    | *1        |
| 10     | SL10   | 此位表示 10 是否可以设置为系统保护标识符。 | R    | *1        |
| 9      | SL9    | 此位表示 9 是否可以设置为系统保护标识符。  | R    | *1        |
| 8      | SL8    | 此位表示 8 是否可以设置为系统保护标识符。  | R    | *1        |
| 7      | SL7    | 此位表示 7 是否可以设置为系统保护标识符。  | R    | *1        |
| 6      | SL6    | 此位表示 6 是否可以设置为系统保护标识符。  | R    | *1        |
| 5      | SL5    | 此位表示 5 是否可以设置为系统保护标识符。  | R    | *1        |
| 4      | SL4    | 此位表示 4 是否可以设置为系统保护标识符。  | R    | *1        |
| 3      | SL3    | 此位表示 3 是否可以设置为系统保护标识符。  | R    | *1        |
| 2      | SL2    | 此位表示 2 是否可以设置为系统保护标识符。  | R    | *1        |
| 1      | SL1    | 此位表示 1 是否可以设置为系统保护标识符。  | R    | *1        |
| 0      | SL0    | 此位表示 0 是否可以设置为系统保护标识符。  | R    | *1        |

注 *1：参见第 3.9.7 节，G4MH 寄存器的初始值产品信息。


###### 2.16 RBASE — 复位向量基地址
RBASE 寄存器在复位时指示复位向量地址。如果 PSW.EBV 位为 0，此寄存器还指示异常处理程序向量地址和异常处理程序地址的选择方法。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值  |
| ------ | ------ | ---------------- | --- | ----------- |
| 31至9  | RBASE31至RBASE9 | 这些位在复位时指示复位向量。当 PSW.EBV = 0 时，此地址也用作异常向量。 | R    | *1        |
| 8至2   | —      | （保留以供将来扩展。请确保设置为0。） | R    | 0         |
| 1      | DV     | 当设置 DV 位时，中断的异常处理程序地址使用直接向量方法确定。详细信息参见第 3.2.4.4(1)(b) 节——表参考方法。此位在 PSW.EBV = 0 时有效。 | R    | *1        |
| 0      | RINT   | 当设置 RINT 位时，中断处理的异常处理程序地址减少。详细信息参见第 3.2.4.4(1)(a) 节——直接向量方法。此位在 PSW.EBV = 0 时有效。 | R    | *1        |

注 *1：参见第 3.9.7 节，G4MH 寄存器的初始值产品信息。

###### 2.17 EBASE — 异常处理程序向量地址
EBASE 寄存器指示异常处理程序向量地址和异常处理程序地址的选择方法。当 PSW.EBV 位为 1 时，此寄存器有效。

| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值  |
| ------ | ------ | ----------------- | ----- | ----------- |
| 31至9  | EBASE31至EBASE9 | 异常处理程序例程地址改变为通过将每个异常的偏移地址添加到此寄存器指定的基地址而得到的地址。EBASE8到EBASE0位不作为名称分配，因为这些位总是0。 | R/W  | 未定义     |
| 8至2   | —      | （保留以供将来扩展。请确保设置为0。） | R    | 0         |
| 1      | DV     | 当设置 DV 位时，中断的异常处理程序地址使用直接向量方法确定。详细信息参见第 3.2.4.4(1)(b) 节，表参考方法。 | R/W  | 未定义     |
| 0      | RINT   | 当设置 RINT 位时，中断处理的异常处理程序地址简化。详细信息参见第 3.2.4.4(1)(a) 节，直接向量方法。 | R/W  | 未定义     |


###### 2.18 INTBP — 中断处理程序地址表的基地址
INTBP 寄存器在选择表参考方法作为中断处理程序地址选择方法时指示表的基地址。

| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值  |
| ------ | ------ | ---------------- | -------- | ----------- |
| 31至9  | INTBP31至INTBP9 | 这些位指示在使用表参考方法时中断的基指针地址。 | R/W  | 未定义     |
| 8至0   | —      | （保留以供将来扩展。请确保设置为0。） | R    | 0         |

###### 2.19 MCTL — 机器控制
MCTL 寄存器用于控制 CPU。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值  |
| ------ | ------ | ------------- | ----- | ----------- |
| 31至1  | —      | （保留以供将来扩展。请确保设置为0。） | R    | 0         |
| 0      | UIC    | 此位用于控制用户模式下的中断启用/禁用操作。当此位设置为 1 时，可以在用户模式下执行 EI/DI 指令。 | R/W  | 0         |


###### 2.20 PID - 处理器ID
PDI寄存器保留了一个唯一标识 CPU 的处理器标识符。PID 寄存器是只读寄存器。

注意： PID 寄存器指示用于识别所包含的 CPU 内核和 CPU 内核配置的信息。不假设软件行为会根据 PID 寄存器信息动态变化。

| 位位置                                                                                                           | 功能                                   | 读/写 | 复位后的值 |
| ----------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- | ----- | ---------- |
| 31至24            | 体系结构标识符,该标识符指示处理器的体系结构。                                                                                                                                     | R     | *1         |
| 23至8      | 该标识符指示处理器的功能。这些位指示每个位定义的功能是否实现（1：实现，0：未实现）。位 23至19：保留；位 18：寄存器组；位 17至12：保留；位 11：扩展浮点运算功能；位 10：双精度浮点运算功能；位 9：单精度浮点运算功能；位 8：内存保护单元（MPU）功能。注意：如果实现了双精度浮点运算功能（位 10 为 1），则一定会实现单精度浮点运算功能（位 9 为 1）。 | R     | *1         |
| 7至0        | 该标识符指示处理器的版本。                                                                                            |                                                              R     | *1         |

注 *1：详情参见第 3.9.7 节，G4MH 寄存器的初始值产品信息。

###### 2.21 SVLOCK —  Supervisor Lock
SVLOCK 寄存器用于限制 CPU 在监督模式下的操作。


| 位位置 | 位名称  | 功能 | 读/写 | 复位后的值 |
| ------ | ------------------ | ---- | ----- | ---------- |
| 31至1  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 0      | SVL    | 此位指定是否在监督模式下限制 CPU 操作。0：不限制；1：限制。如果SVL位设置为1，则以下系统寄存器在CPU处于管理模式时也不能更新：SPID， MPM， MPLA， MPUA， MPAT, MPIDn， MPBK | R/W   | 0        |

注意 1：目标系统寄存器是那些与内存访问相关的寄存器。此寄存器防止这些寄存器被不慎重写并防止在 CPU 外部执行无意的内存访问。

###### 2.22 SCCFG — SYSCALL 操作设置
SCCFG 寄存器用于设置与 SYSCALL 指令相关的操作。在使用 SYSCALL 指令之前，请确保为此寄存器设置适当的值。


| 位位置 | 位名称  | 功能 | 读/写 | 复位后的值 |
| ------ | ---------------- | ---- | ----- | ---------- |
| 31至8  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 7至0   | SIZE   | 这些位指定 SYSCALL 指令引用的表的最大条目数。如果 SIZE 为 0，则最大条目数为 1；如果 SIZE 为 255，则最大条目数为 256。通过根据 SYSCALL 指令分支的功能数量适当地设置最大条目数，可以有效地使用内存区域。果为 SYSCALL 指令指定了超过最大条目数的向量，则选择第一个条目。请将错误处理程序放置在第一个条目。| R/W   | 0        |

###### 2.23 SCBP — SYSCALL 基指针
SCBP 寄存器用于指定 SYSCALL 指令的表地址并生成目标地址。在使用 SYSCALL 指令之前，请确保为此寄存器设置适当的值。
需要确保是将一个字地址（最低两位为0）设置到 SCBP 寄存器。

###### 2.24 PEID — Processor Element Identifier
仅可读，用于获取 CPPU CORE ID。


###### 2.25 BMID — 总线主控标识符
仅可读，用于获取 CPU 的总线主控标识符。

###### 2.26 MEA — 内存错误地址
MEA 寄存器用于记录内存对齐错误（MAE）或内存保护单元（MPU）违规发生时的地址。

| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值 |
| ------ | ------ | ---------------- | ----- | ---------- |
| 31至0  | MEA    | 这些位保存发生内存对齐错误（MAE）或 MPU 违规的地址。 | R/W   | 未定义     |

###### 2.27 MEI — 内存错误信息
MEI 寄存器保存导致未对齐异常（MAE）或内存保护异常（MDP）的指令信息。该信息可用作软件仿真时的提示信息。

注1：即使由于硬件规格的原因，数据被分割并多次访问，指令指示的原始数据类型仍然会被存储。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值 |
| ------ | ------ | ----------- | ----- | ---------- |
| 31至28 | LEN    | 这些位指示导致异常的指令的代码大小。<br>0: 非指令因素<br>2: 16位<br>4: 32位<br>6: 48位<br>8: 64位<br>其他值保留以供将来使用，并且永不存储在此处。详细信息参见表3.37。 | R/W   | 未定义     |
| 27至21 | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 20至16 | REG    | 这些位指示导致异常的指令的源寄存器号或目标寄存器号。详细信息参见表3.37。 | R/W   | 未定义     |
| 15至12 | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 11至9  | DS     | 这些位指示导致异常的指令的数据类型。<br>0: 字节（8位）<br>1: 半字（16位）<br>2: 字（32位）<br>3: 双字（64位）<br>4: 四字（128位）<br>其他值保留以供将来使用，并且永不存储在此处。详细信息参见表3.37。 | R/W   | 未定义     |
| 8      | U      | 该位指示导致异常的指令的符号扩展方法。<br>0: 有符号<br>1: 无符号<br>详细信息参见表3.37。 | R/W   | 未定义     |
| 7至6   | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 5至1   | ITYPE  | 这些位指示导致异常的指令。详细信息参见表3.37。 | R/W   | 未定义     |
| 0      | RW     | 该位指示导致异常的指令执行的操作是读取（Load-memory）还是写入（Store-memory）。<br>0: 读取（Load-memory）<br>1: 写入（Store-memory）<br>详细信息参见表3.37。 | R/W   | 未定义     |



###### 2.28 RBCR0 — 寄存器组控制 0
RBCR0 寄存器控制寄存器组功能的操作。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值 |
| ------ | ------ | --------------- | ----- | ---------- |
| 31至17 | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 16     | MD     | 此位指定寄存器组的保存模式。<br>0: 保存模式 0<br>1: 保存模式 1<br>保存的寄存器列表： | R/W   | 0        |
| 15     | BE15   | 此位指定是否在优先级 15 至 63 的中断（EIINTn）上使用寄存器组。<br>0: 不在优先级 15 至 63 的中断上使用寄存器组。<br>1: 在优先级 15 至 63 的中断上使用寄存器组。<br>当此位设置为 1 时，如果优先级 15 至 63 的 EI 级中断（EIINTn）被确认，可以使用寄存器组功能。 | R/W   | 0        |
| 14至0  | BE14至BE0 | 这些位指定寄存器组将要使用的中断的优先级级别。<br>0: 不在与该位对应的级别的中断上使用寄存器组。<br>1: 在与该位对应的级别的中断上使用寄存器组。<br>这些位的位置与中断的优先级级别对应如下：当接受到与该级别对应的中断（EIINTn）时，如果该级别的对应位被设置（1），则使用寄存器组。 | R/W   | 0        |

寄存器组的保存模式如下：
<br>✓: 保存<br>—: 不保存
| 目标寄存器   | 保存模式 0 | 保存模式 1 |
| ------------ | -------- | -------- |
| PC           | ✓        | ✓        |
| PSW          | ✓        | ✓        |
| EIIC         | ✓        | ✓        |
| FPSR         | ✓        | ✓        |
| r1-r19       | ✓        | ✓        |
| r20-r29      | —        | ✓        |
| r30          | ✓        | ✓        |
| r31          | —        | ✓        |

备注：按照该功能的定义，优先级为 63 的中断（EIINTn）包括在内。然而，由于优先级为 63 的中断总是被 PSW.EIMASK 和 PLMR 寄存器屏蔽，因此寄存器组功能不会被优先级为 63 的中断（EIINTn）使用。

###### 2.29 RBCR1 — 寄存器组控制 1
RBCR1 寄存器控制寄存器组功能的操作。


| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值 |
| ------ | ------ | ---------------- | ----- | ---------- |
| 31至16 | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 15     | NC15   | 当确认优先级为 15 至 63 的中断（EIINTn）时，指定设置在 PSW. ID 位中的值。<br>0: 为优先级为 15 至 63 的中断确认设置 PSW. ID = 0<br>1: 为优先级为 15 至 63 的中断确认设置 PSW. ID = 1（初始设置）<br>然而，只有当中断处理程序地址选择方法为表参考方法且寄存器组可用时，此设置才有效。 | R/W   | 1        |
| 14至0  | NC14至NC0 | 这些位指定在接受与位位置对应的优先级级别的中断（EIINTn）时设置在 PSW. ID 位中的值。<br>0: 接受与位位置对应优先级级别的中断时设置 PSW. ID 为 0。<br>1: 接受与位位置对应优先级级别的中断时设置 PSW. ID 为 1（初始值）。<br>然而，只有当中断处理程序地址选择方法设置为表参考方法且使用寄存器组时，此设置才有效。 | R/W   | 7FFFH    |

注1：按照该功能的定义，优先级为 63 的中断（EIINTn）包括在内。然而，由于优先级为 63 的中断总是被 PSW.EIMASK 和 PLMR 寄存器屏蔽，因此寄存器组功能不会被优先级为 63 的中断（EIINTn）使用。


###### 2.30 RBNR — 寄存器组编号
RBNR 寄存器指示下一个使用的寄存器组功能的编号。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值 |
| ------ | ------ | ------------- | ----- | ---------- |
| 31至6  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 5至0   | BN     | 这些位指示下一个使用的寄存器组的编号。<br>当接受使用寄存器组的中断（EIINTn）时，这些位的值加 1。如果 BN 的值大于 INTCFG.ULNR，或 BN 的值为 63，则如果发生使用寄存器组的中断（EIINTn），则会生成 SYSERR 异常。该中断不被接受，并被挂起。<br>当执行 RESBANK 指令时，BN 的值减 1。如果在 BN 的值为 0 时执行 RESBANK 指令，则指令不被执行并生成 SYSERR 异常。在这种情况下，BN 不会更新，其值保持不变。 | R/W   | 0        |


###### 2.31 RBIP — 寄存器组初始指针
RBIP 寄存器指示寄存器组所在的内存区域的起始地址。

| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值 |
| ------ | ------ | ------------- | ----- | ---------- |
| 31至4  | RBIP31至RBIP4 | 这些位指示寄存器组的初始指针。RBCR0. MD 和 RBNR. BN 的值与此值一起确定要使用的下一个寄存器组分配的内存地址，如下所示：<br>• 保存模式 0 (RBCR0. MD = 0): RBIP − RBNR. BN × 60H<br>• 保存模式 1 (RBCR0. MD = 1): RBIP − RBNR. BN × 90H | R/W   | 未定义     |
| 3至0   | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |


##### 3 中断功能寄存器
中断功能系统寄存器通过使用 LDSR 和 STSR 指令并指定系统寄存器号（由寄存器号和选择 ID 组成）进行读写。

| 寄存器编号 (regID, selID) | 符号 | 功能                   | 访问权限 |
| --------------- | ---- | ---------------------- | -------- |
| SR10, 2   | ISPR | 服务中的中断优先级       | SV       |
| SR11, 2    | IMSR | 中断屏蔽状态             | SV       |
| SR12, 2  | ICSR | 中断控制状态             | SV       |
| SR13, 2       | INTCFG | 中断功能设置            | SV       |
| SR14, 2       | PLMR  | 中断优先级屏蔽           | SV       |

###### 3.1 ISPR — 服务中的中断优先级
ISPR 寄存器保存 CPU 处理的 EI 级中断（EIINTn）的中断优先级，当发生多重中断时，按中断优先级进行优先级封顶。

对于 ISPR 寄存器，当 INTCFG.EPL 被清除为 0 时，功能启用。当 INTCFG.EPL 设置为 1 时，ISPR 寄存器的功能被禁用，不控制中断（EIINTn）的确认。

| 位位置 | 位名称      | 功能                                                         | 读/写 | 复位后的值 |
| ------ | ------------ | ------------------------------------------------------------ | ----- | ---------- |
| 31至16 | —          | （保留以供将来扩展。请确保设置为0。）                                                                        | R     | 0        |
| 15至0  | ISP15至ISP0 | 这些位指示与相关位位置对应的优先级<sup>*1</sup>的 EIINTn 中断的确认状态。<br>0: 未确认优先级对应位位置的中断请求。<br>1: CPU 内核正在服务优先级对应位置的中断请求。 | R*3   | 0        |

###### 3.2 IMSR — 中断屏蔽状态
IMSR 寄存器用于指示，通知 CPU 的中断是否被 CPU 中的屏蔽功能屏蔽接受。
| 位位置 | 位名称 | 功能 | 读/写 | 复位后的值 |
| ------ | -------------- | ---- | ----- | ---------- |
| 31至5  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 4      | FNP    | 此位指定由 PSW. NP 屏蔽接受的 FEINT 是否存在。<br>0: 不存在由 PSW. NP 屏蔽的 FEINT<br>1: 存在由 PSW. NP 屏蔽的 FEINT | R     | 0        |
| 3      | ENP    | 此位指定由 PSW. NP 屏蔽接受的 EIINT 是否存在。<br>0: 不存在由 PSW. NP 屏蔽的 EIINT<br>1: 存在由 PSW. NP 屏蔽的 EIINT | R     | 0        |
| 2      | EID    | 此位指定由 PSW. ID 屏蔽接受的 EIINT 是否存在。<br>0: 不存在由 PSW. ID 屏蔽的 EIINT<br>1: 存在由 PSW. ID 屏蔽的 EIINT | R     | 0        |
| 1      | EPLM   | 此位指定由 PLMR. PLM 屏蔽接受的 EIINT 是否存在。<br>0: 不存在由 PLMR.PLM 屏蔽的 EIINT<br>1: 存在由 PLMR.PLM 屏蔽的 EIINT | R     | 0        |
| 0      | EEIM   | 此位指定当 INTCFG. EPL 被清除为 0 时由 ISPR.ISP 屏蔽接受的 EIINT 是否存在，或当 INTCFG.EPL 被设置为 1 时由 PSW.EIMASK 屏蔽接受的 EIINT 是否存在。<br>0: 不存在由 ISPR.ISP 或 PSW.EIMASK 屏蔽的 EIINT<br>1: 存在由 ISPR.ISP 或 PSW.EIMASK 屏蔽的 EIINT | R     | 0        |

IMSR 的更新顺序：
在通知 CPU 的中断中，接受条件按 ISPR 或 PSW.EIMASK（由 INTCFG.EPL 选择）、PLMR、PSW. ID、PSW. NP 的顺序确认。如果接受条件设置为屏蔽中断的值，则中断请求在此处被屏蔽，并且不确认后续顺序中的接受条件。注意，根据异常的类型，不属于接受条件的条件的确认不属于接受条件。


###### 3.3 ICSR — 中断控制状态
ICSR 寄存器指示 CPU 中的中断控制状态。

| 位位置 | 位名称 |功能 | 读/写 | 复位后的值 |
| ------ | ---------------- | ---- | ----- | ---------- |
| 31至1  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 0      | PMEI   | 此位指示存在由 PLMR 寄存器屏蔽优先级级别的中断（EIINTn）。详情参见第 3.2.4.1(5) 节，中断异常优先级和优先级屏蔽。 | R     | 0        |


###### 3.4 INTCFG — 中断功能设置
INTCFG 寄存器用于指定与 CPU 内部中断功能相关的设置。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值 |
| ------ | --------------- | ---- | ----- | ---------- |
| 31至22 | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 21至16 | ULNR   | 指定可用寄存器组编号的最大值。<br>如果 RBNR.BN 的值大于 ULNR，或者 RBNR.BN 的值为 63，并且发生启用寄存器组功能的中断（EIINTn），将发生 SYSERR 异常。注意，该中断（EIINTn）不被接受，并被挂起。 | R/W   | F      |
| 15至2  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 1      | EPL    | 对于中断（EIINTn），指定是否启用中断优先级级别扩展功能。<br>0: 禁用中断优先级级别扩展功能<br>1: 启用中断优先级级别扩展功能 | R/W   | 0        |
| 0      | ISPC   | 此位更改 ISPR 寄存器的写入方式。<br>0: ISPR 寄存器自动更新。程序触发的更新（通过执行 LDSR 指令）被忽略。<br>1: ISPR 寄存器不自动更新。程序触发的更新（通过执行 LDSR 指令）被执行。 | R/W   | 0        |


###### 3.5 PLMR — 中断优先级级别屏蔽
PLMR 寄存器屏蔽优先级不高于这些位指定的级别的中断（EIINTn）。

| 位位置 | 位名称 |  功能 | 读/写 | 复位后的值 |
| ------ | ------ | -------------- | ----- | ---------- |
| 31至6  | —      | （保留以供将来扩展。请确保设置为0。） | R     | 0        |
| 5至0   | PLM    | 这些位用于屏蔽优先级不高于这些位指定级别的中断（EIINTn）。<br>当中断（EIINTn）被此寄存器屏蔽时，不被接受。<br>由于为该 CPU 定义的中断最高优先级为 0，如果在 PLM 位中指定为 0，则所有中断（EIINTn）均由此寄存器屏蔽。<br>由于该 CPU 定义的最低中断优先级为 63，优先级为 63 的中断（EIINTn）总是被屏蔽。<br>无论 INTCFG.EPL 设置如何，通过 PLMR 进行的中断屏蔽由 PLM 位的值和从中断控制器通知的中断优先级值完成。<br>如果通过 LDSR 指令更改 PLMR 的值，新 PLMR 值将在该 LDSR 指令之后的指令中反映。 | R/W   | 10<sub>H</sub>      |

PLM 位的值与要屏蔽的最高优先级中断的对应关系

| PLM 位的值 | 要屏蔽的最高优先级中断 |
| --------- | -------------------- |
| 0         | 优先级 0（所有优先级均不可接受） |
| 1         | 优先级 1（仅可接受优先级 0）    |
| ...       | ...                  |
| 14        | 优先级 14（可接受优先级 0 到 13）|
| 15        | 优先级 15（可接受优先级 0 到 14）|
| ...       | ...                  |
| 62        | 优先级 62（可接受优先级 0 到 61）|
| 63        | 优先级 63（可接受优先级 0 到 62）|
